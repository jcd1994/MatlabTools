<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boost Thread Parallelization</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Boost Thread Parallelization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#boost_threads_setup">Boost Thread Setup</a></li>
<li class="level1"><a href="#boost_threads_configuration">Boost Thread Configuration</a></li>
</ul>
</div>
<div class="textblock"><p>The third available shared memory parallelization provided with <b>Blaze</b> is based on Boost threads.</p>
<p><br />
 </p>
<h1><a class="anchor" id="boost_threads_setup"></a>
Boost Thread Setup</h1>
<hr/>
<p>In order to enable the Boost thread-based parallelization, two steps have to be taken: First, the <code>BLAZE_USE_BOOST_THREADS</code> command line argument has to be explicitly specified during compilation:</p>
<div class="fragment"><div class="line">... -DBLAZE_USE_BOOST_THREADS ...</div></div><!-- fragment --><p>Second, the according Boost libraries have to be linked. These two simple actions will cause the <b>Blaze</b> library to automatically try to run all operations in parallel with the specified number of Boost threads. Note that the OpenMP-based and C++11 thread-based parallelizations have priority, i.e. are preferred in case either is enabled in combination with the Boost thread parallelization.</p>
<p>The number of threads can be either specified via the environment variable <code>BLAZE_NUM_THREADS</code> </p>
<div class="fragment"><div class="line">export BLAZE_NUM_THREADS=4  <span class="comment">// Unix systems</span></div><div class="line"><span class="keyword">set</span> BLAZE_NUM_THREADS=4     <span class="comment">// Windows systems</span></div></div><!-- fragment --><p>or alternatively via the <code><a class="el" href="../../dc/d00/group__smp.html#ga5434a72b76ef2fcf1ecb9901689f8159" title="Sets the number of threads to be used for thread parallel operations. ">setNumThreads()</a></code> function provided by the <b>Blaze</b> library:</p>
<div class="fragment"><div class="line"><a class="code" href="../../dc/d00/group__smp.html#ga5434a72b76ef2fcf1ecb9901689f8159">blaze::setNumThreads</a>( 4 );</div></div><!-- fragment --><p>Please note that the <b>Blaze</b> library does not limit the available number of threads. Therefore it is in YOUR responsibility to choose an appropriate number of threads. The best performance, though, can be expected if the specified number of threads matches the available number of cores.</p>
<p>In order to query the number of threads used for the parallelization of operations, the <code><a class="el" href="../../dc/d00/group__smp.html#ga3d5444159a291c35ca703ae5d58366ad" title="Returns the number of threads used for thread parallel operations. ">getNumThreads()</a></code> function can be used:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> threads = <a class="code" href="../../dc/d00/group__smp.html#ga3d5444159a291c35ca703ae5d58366ad">blaze::getNumThreads</a>();</div></div><!-- fragment --><p>In the context of Boost threads, the function will return the previously specified number of threads.</p>
<p><br />
 </p>
<h1><a class="anchor" id="boost_threads_configuration"></a>
Boost Thread Configuration</h1>
<hr/>
<p>As in case of the other shared memory parallelizations <b>Blaze</b> is not unconditionally running an operation in parallel (see <a class="el" href="../../d4/d55/openmp_parallelization.html">OpenMP Parallelization</a> or <a class="el" href="../../db/d46/cpp_threads_parallelization.html">C++11 Thread Parallelization</a>). All thresholds related to the Boost thread parallelization are also contained within the configuration file <code>./blaze/config/Thresholds.h</code>.</p>
<p>Please note that these thresholds are highly sensitiv to the used system architecture and the shared memory parallelization technique. Therefore the default values cannot guarantee maximum performance for all possible situations and configurations. They merely provide a reasonable standard for the current CPU generation. Also note that the provided defaults have been determined using the OpenMP parallelization and require individual adaption for the Boost thread parallelization.</p>
<p><br />
 Previous: <a class="el" href="../../db/d46/cpp_threads_parallelization.html">C++11 Thread Parallelization</a> &#160; &#160; Next: <a class="el" href="../../d9/dce/serial_execution.html">Serial Execution</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 18 2017 05:50:23 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
