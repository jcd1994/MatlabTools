<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vector Types</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Vector Types </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#vector_types_static_vector">StaticVector</a></li>
<li class="level1"><a href="#vector_types_dynamic_vector">DynamicVector</a></li>
<li class="level1"><a href="#vector_types_hybrid_vector">HybridVector</a></li>
<li class="level1"><a href="#vector_types_custom_vector">CustomVector</a><ul><li class="level2"><a href="#vector_types_custom_vector_memory_management">Memory Management</a></li>
<li class="level2"><a href="#vector_types_custom_vector_copy_operations">Copy Operations</a></li>
<li class="level2"><a href="#vector_types_custom_vector_alignment">Alignment</a></li>
<li class="level2"><a href="#vector_types_custom_vector_padding">Padding</a></li>
</ul>
</li>
<li class="level1"><a href="#vector_types_compressed_vector">CompressedVector</a></li>
</ul>
</div>
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="vector_types_static_vector"></a>
StaticVector</h1>
<hr/>
<p>The <a class="el" href="../../d9/d3c/classblaze_1_1StaticVector.html" title="Efficient implementation of a fixed-sized vector.The StaticVector class template is the representatio...">blaze::StaticVector</a> class template is the representation of a fixed size vector with statically allocated elements of arbitrary type. It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../da/df3/StaticVector_8h.html">blaze/math/StaticVector.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the elements, the number of elements, and the transpose flag of the vector can be specified via the three template parameters:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> Type, <span class="keywordtype">size_t</span> N, <span class="keywordtype">bool</span> TF &gt;</div><div class="line"><span class="keyword">class </span>StaticVector;</div></div><!-- fragment --><ul>
<li><code>Type:</code> specifies the type of the vector elements. StaticVector can be used with any non-cv-qualified, non-reference, non-pointer element type.</li>
<li><code>N</code> : specifies the total number of vector elements. It is expected that StaticVector is only used for tiny and small vectors.</li>
<li><code>TF</code> : specifies whether the vector is a row vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0" title="Transpose flag for row vectors. ">blaze::rowVector</a></code>) or a column vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>). The default value is <code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>.</li>
</ul>
<p>The <a class="el" href="../../d9/d3c/classblaze_1_1StaticVector.html" title="Efficient implementation of a fixed-sized vector.The StaticVector class template is the representatio...">blaze::StaticVector</a> is perfectly suited for small to medium vectors whose size is known at compile time:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3-dimensional integral column vector</span></div><div class="line"><a class="code" href="../../d9/d3c/classblaze_1_1StaticVector.html">blaze::StaticVector&lt;int,3UL&gt;</a> a;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 4-dimensional single precision column vector</span></div><div class="line"><a class="code" href="../../d9/d3c/classblaze_1_1StaticVector.html">blaze::StaticVector&lt;float,4UL,blaze::columnVector&gt;</a> b;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 6-dimensional double precision row vector</span></div><div class="line"><a class="code" href="../../d9/d3c/classblaze_1_1StaticVector.html">blaze::StaticVector&lt;double,6UL,blaze::rowVector&gt;</a> c;</div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="vector_types_dynamic_vector"></a>
DynamicVector</h1>
<hr/>
<p>The <a class="el" href="../../da/d9e/classblaze_1_1DynamicVector.html" title="Efficient implementation of an arbitrary sized vector.The DynamicVector class template is the represe...">blaze::DynamicVector</a> class template is the representation of an arbitrary sized vector with dynamically allocated elements of arbitrary type. It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d5/dfc/DynamicVector_8h.html">blaze/math/DynamicVector.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the elements and the transpose flag of the vector can be specified via the two template parameters:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> TF &gt;</div><div class="line"><span class="keyword">class </span>DynamicVector;</div></div><!-- fragment --><ul>
<li><code>Type:</code> specifies the type of the vector elements. DynamicVector can be used with any non-cv-qualified, non-reference, non-pointer element type.</li>
<li><code>TF</code> : specifies whether the vector is a row vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0" title="Transpose flag for row vectors. ">blaze::rowVector</a></code>) or a column vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>). The default value is <code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>.</li>
</ul>
<p>The <a class="el" href="../../da/d9e/classblaze_1_1DynamicVector.html" title="Efficient implementation of an arbitrary sized vector.The DynamicVector class template is the represe...">blaze::DynamicVector</a> is the default choice for all kinds of dense vectors and the best choice for medium to large vectors. Its size can be modified at runtime:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3-dimensional integral column vector</span></div><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector&lt;int&gt;</a> a( 3UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 4-dimensional single precision column vector</span></div><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector&lt;float,blaze::columnVector&gt;</a> b( 4UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a double precision row vector with size 0</span></div><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector&lt;double,blaze::rowVector&gt;</a> c;</div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="vector_types_hybrid_vector"></a>
HybridVector</h1>
<hr/>
<p>The <a class="el" href="../../da/d6b/classblaze_1_1HybridVector.html" title="Efficient implementation of a dynamically sized vector with static memory.The HybridVector class temp...">blaze::HybridVector</a> class template combines the advantages of the <a class="el" href="../../d9/d3c/classblaze_1_1StaticVector.html" title="Efficient implementation of a fixed-sized vector.The StaticVector class template is the representatio...">blaze::StaticVector</a> and the <a class="el" href="../../da/d9e/classblaze_1_1DynamicVector.html" title="Efficient implementation of an arbitrary sized vector.The DynamicVector class template is the represe...">blaze::DynamicVector</a> class templates. It represents a fixed size vector with statically allocated elements, but still can be dynamically resized (within the bounds of the available memory). It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d0/ddb/HybridVector_8h.html">blaze/math/HybridVector.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the elements, the number of elements, and the transpose flag of the vector can be specified via the three template parameters:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> Type, <span class="keywordtype">size_t</span> N, <span class="keywordtype">bool</span> TF &gt;</div><div class="line"><span class="keyword">class </span>HybridVector;</div></div><!-- fragment --><ul>
<li><code>Type:</code> specifies the type of the vector elements. HybridVector can be used with any non-cv-qualified, non-reference, non-pointer element type.</li>
<li><code>N</code> : specifies the maximum number of vector elements. It is expected that HybridVector is only used for tiny and small vectors.</li>
<li><code>TF</code> : specifies whether the vector is a row vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0" title="Transpose flag for row vectors. ">blaze::rowVector</a></code>) or a column vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>). The default value is <code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>.</li>
</ul>
<p>The <a class="el" href="../../da/d6b/classblaze_1_1HybridVector.html" title="Efficient implementation of a dynamically sized vector with static memory.The HybridVector class temp...">blaze::HybridVector</a> is a suitable choice for small to medium vectors, whose size is not known at compile time or not fixed at runtime, but whose maximum size is known at compile time:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3-dimensional integral column vector with a maximum size of 6</span></div><div class="line"><a class="code" href="../../da/d6b/classblaze_1_1HybridVector.html">blaze::HybridVector&lt;int,6UL&gt;</a> a( 3UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 4-dimensional single precision column vector with a maximum size of 16</span></div><div class="line"><a class="code" href="../../da/d6b/classblaze_1_1HybridVector.html">blaze::HybridVector&lt;float,16UL,blaze::columnVector&gt;</a> b( 4UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a double precision row vector with size 0 and a maximum size of 6</span></div><div class="line"><a class="code" href="../../da/d6b/classblaze_1_1HybridVector.html">blaze::HybridVector&lt;double,6UL,blaze::rowVector&gt;</a> c;</div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="vector_types_custom_vector"></a>
CustomVector</h1>
<hr/>
<p>The <a class="el" href="../../de/d32/classblaze_1_1CustomVector.html" title="Efficient implementation of a customizable vector. ">blaze::CustomVector</a> class template provides the functionality to represent an external array of elements of arbitrary type and a fixed size as a native <b>Blaze</b> dense vector data structure. Thus in contrast to all other dense vector types a custom vector does not perform any kind of memory allocation by itself, but it is provided with an existing array of element during construction. A custom vector can therefore be considered an alias to the existing array. It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d8/d76/CustomVector_8h.html">blaze/math/CustomVector.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the elements, the properties of the given array of elements and the transpose flag of the vector can be specified via the following four template parameters:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> AF, <span class="keywordtype">bool</span> PF, <span class="keywordtype">bool</span> TF &gt;</div><div class="line"><span class="keyword">class </span>CustomVector;</div></div><!-- fragment --><ul>
<li>Type: specifies the type of the vector elements. <a class="el" href="../../de/d32/classblaze_1_1CustomVector.html" title="Efficient implementation of a customizable vector. ">blaze::CustomVector</a> can be used with any non-cv-qualified, non-reference, non-pointer element type.</li>
<li>AF : specifies whether the represented, external arrays are properly aligned with respect to the available instruction set (SSE, AVX, ...) or not.</li>
<li>PF : specified whether the represented, external arrays are properly padded with respect to the available instruction set (SSE, AVX, ...) or not.</li>
<li>TF : specifies whether the vector is a row vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0" title="Transpose flag for row vectors. ">blaze::rowVector</a></code>) or a column vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>). The default value is <code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>.</li>
</ul>
<p>The <a class="el" href="../../de/d32/classblaze_1_1CustomVector.html" title="Efficient implementation of a customizable vector. ">blaze::CustomVector</a> is the right choice if any external array needs to be represented as a <b>Blaze</b> dense vector data structure or if a custom memory allocation strategy needs to be realized:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d32/classblaze_1_1CustomVector.html">blaze::CustomVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gac02fbb3ef9a09baf0b5e7b32a55cf6c7">blaze::aligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gaa4c0db94efdf35b9bf1834ace9c48177">blaze::unaligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga2acdda4ff7a369ef66302e647ff0926f">blaze::padded</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"></div><div class="line"><span class="comment">// Definition of an unmanaged custom column vector for unaligned, unpadded integer arrays</span></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;int,unaligned,unpadded,columnVector&gt;  UnalignedUnpadded;</div><div class="line">std::vector&lt;int&gt; vec( 7UL );</div><div class="line">UnalignedUnpadded a( &amp;vec[0], 7UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a managed custom column vector for unaligned but padded &#39;float&#39; arrays</span></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;float,unaligned,padded,columnVector&gt;  UnalignedPadded;</div><div class="line">UnalignedPadded b( <span class="keyword">new</span> <span class="keywordtype">float</span>[16], 9UL, 16UL, <a class="code" href="../../d0/d60/structblaze_1_1ArrayDelete.html">blaze::ArrayDelete</a>() );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a managed custom row vector for aligned, unpadded &#39;double&#39; arrays</span></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;double,aligned,unpadded,rowVector&gt;  AlignedUnpadded;</div><div class="line">AlignedUnpadded c( blaze::allocate&lt;double&gt;( 7UL ), 7UL, <a class="code" href="../../db/dc0/structblaze_1_1Deallocate.html">blaze::Deallocate</a>() );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a managed custom row vector for aligned, padded &#39;complex&lt;double&gt;&#39; arrays</span></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;complex&lt;double&gt;,<a class="code" href="../../de/df1/group__math.html#gac02fbb3ef9a09baf0b5e7b32a55cf6c7">aligned</a>,<a class="code" href="../../de/df1/group__math.html#ga2acdda4ff7a369ef66302e647ff0926f">padded</a>,<a class="code" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa">columnVector</a>&gt;  AlignedPadded;</div><div class="line">AlignedPadded d( <a class="code" href="../../d4/d3a/group__util.html#gaf1a0f267ad32bb5a074fa67bba6cb698">allocate</a>&lt; complex&lt;double&gt; &gt;( 8UL ), 5UL, 8UL, <a class="code" href="../../db/dc0/structblaze_1_1Deallocate.html">blaze::Deallocate</a>() );</div></div><!-- fragment --><p>In comparison with the remaining <b>Blaze</b> dense vector types <a class="el" href="../../de/d32/classblaze_1_1CustomVector.html" title="Efficient implementation of a customizable vector. ">blaze::CustomVector</a> has several special characteristics. All of these result from the fact that a custom vector is not performing any kind of memory allocation, but instead is given an existing array of elements. The following sections discuss all of these characteristics:</p>
<ol type="1">
<li><b><a class="el" href="../../d7/dec/vector_types.html#vector_types_custom_vector_memory_management">Memory Management</a></b></li>
<li><b><a class="el" href="../../d7/dec/vector_types.html#vector_types_custom_vector_copy_operations">Copy Operations</a></b></li>
<li><b><a class="el" href="../../d7/dec/vector_types.html#vector_types_custom_vector_alignment">Alignment</a></b></li>
<li><b><a class="el" href="../../d7/dec/vector_types.html#vector_types_custom_vector_padding">Padding</a></b></li>
</ol>
<p><br />
 </p>
<h2><a class="anchor" id="vector_types_custom_vector_memory_management"></a>
Memory Management</h2>
<p>The <a class="el" href="../../de/d32/classblaze_1_1CustomVector.html" title="Efficient implementation of a customizable vector. ">blaze::CustomVector</a> class template acts as an adaptor for an existing array of elements. As such it provides everything that is required to use the array just like a native <b>Blaze</b> dense vector data structure. However, this flexibility comes with the price that the user of a custom vector is responsible for the resource management.</p>
<p>The following examples give an impression of several possible types of custom vectors:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d32/classblaze_1_1CustomVector.html">blaze::CustomVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../db/dc0/structblaze_1_1Deallocate.html">blaze::Deallocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d4/d3a/group__util.html#gaf1a0f267ad32bb5a074fa67bba6cb698">blaze::allocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gac02fbb3ef9a09baf0b5e7b32a55cf6c7">blaze::aligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gaa4c0db94efdf35b9bf1834ace9c48177">blaze::unaligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga2acdda4ff7a369ef66302e647ff0926f">blaze::padded</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 3-dimensional custom vector with unaligned, unpadded and externally</span></div><div class="line"><span class="comment">// managed integer array. Note that the std::vector must be guaranteed to outlive the</span></div><div class="line"><span class="comment">// custom vector!</span></div><div class="line">std::vector&lt;int&gt; vec( 3UL );</div><div class="line">CustomVector&lt;int,unaligned,unpadded&gt; a( &amp;vec[0], 3UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a custom vector with size 3 and capacity 16 with aligned, padded and</span></div><div class="line"><span class="comment">// externally managed integer array. Note that the std::unique_ptr must be guaranteed</span></div><div class="line"><span class="comment">// to outlive the custom vector!</span></div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory( allocate&lt;int&gt;( 16UL ) );</div><div class="line">CustomVector&lt;int,aligned,padded&gt; b( memory.get(), 3UL, 16UL );</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="vector_types_custom_vector_copy_operations"></a>
Copy Operations</h2>
<p>As with all dense vectors it is possible to copy construct a custom vector:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d32/classblaze_1_1CustomVector.html">blaze::CustomVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gaa4c0db94efdf35b9bf1834ace9c48177">blaze::unaligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;int,unaligned,unpadded&gt;  CustomType;</div><div class="line"></div><div class="line">std::vector&lt;int&gt; vec( 5UL, 10 );  <span class="comment">// Vector of 5 integers of the value 10</span></div><div class="line">CustomType a( &amp;vec[0], 5UL );     <span class="comment">// Represent the std::vector as Blaze dense vector</span></div><div class="line">a[1] = 20;                        <span class="comment">// Also modifies the std::vector</span></div><div class="line"></div><div class="line">CustomType b( a );  <span class="comment">// Creating a copy of vector a</span></div><div class="line">b[2] = 20;          <span class="comment">// Also affects vector a and the std::vector</span></div></div><!-- fragment --><p>It is important to note that a custom vector acts as a reference to the specified array. Thus the result of the copy constructor is a new custom vector that is referencing and representing the same array as the original custom vector.</p>
<p>In contrast to copy construction, just as with references, copy assignment does not change which array is referenced by the custom vector, but modifies the values of the array:</p>
<div class="fragment"><div class="line">std::vector&lt;int&gt; vec2( 5UL, 4 );  <span class="comment">// Vector of 5 integers of the value 4</span></div><div class="line">CustomType c( &amp;vec2[0], 5UL );    <span class="comment">// Represent the std::vector as Blaze dense vector</span></div><div class="line"></div><div class="line">a = c;  <span class="comment">// Copy assignment: Set all values of vector a and b to 4.</span></div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="vector_types_custom_vector_alignment"></a>
Alignment</h2>
<p>In case the custom vector is specified as <code>aligned</code> the passed array must be guaranteed to be aligned according to the requirements of the used instruction set (SSE, AVX, ...). For instance, if AVX is active an array of integers must be 32-bit aligned:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d32/classblaze_1_1CustomVector.html">blaze::CustomVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../db/dc0/structblaze_1_1Deallocate.html">blaze::Deallocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d4/d3a/group__util.html#gaf1a0f267ad32bb5a074fa67bba6cb698">blaze::allocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gac02fbb3ef9a09baf0b5e7b32a55cf6c7">blaze::aligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"></div><div class="line"><span class="comment">// Allocation of 32-bit aligned memory</span></div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory( allocate&lt;int&gt;( 5UL ) );</div><div class="line"></div><div class="line">CustomVector&lt;int,aligned,unpadded&gt; a( memory.get(), 5UL );</div></div><!-- fragment --><p>In case the alignment requirements are violated, a <code>std::invalid_argument</code> exception is thrown.</p>
<p><br />
 </p>
<h2><a class="anchor" id="vector_types_custom_vector_padding"></a>
Padding</h2>
<p>Adding padding elements to the end of an array can have a significant impact on the performance. For instance, assuming that AVX is available, then two aligned, padded, 3-dimensional vectors of double precision values can be added via a single SIMD addition operation:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d32/classblaze_1_1CustomVector.html">blaze::CustomVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../db/dc0/structblaze_1_1Deallocate.html">blaze::Deallocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d4/d3a/group__util.html#gaf1a0f267ad32bb5a074fa67bba6cb698">blaze::allocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gac02fbb3ef9a09baf0b5e7b32a55cf6c7">blaze::aligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga2acdda4ff7a369ef66302e647ff0926f">blaze::padded</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;double,aligned,padded&gt;  CustomType;</div><div class="line"></div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory1( allocate&lt;double&gt;( 4UL ) );</div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory2( allocate&lt;double&gt;( 4UL ) );</div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory3( allocate&lt;double&gt;( 4UL ) );</div><div class="line"></div><div class="line"><span class="comment">// Creating padded custom vectors of size 3 and a capacity of 4</span></div><div class="line">CustomType a( memory1.get(), 3UL, 4UL );</div><div class="line">CustomType b( memory2.get(), 3UL, 4UL );</div><div class="line">CustomType c( memory3.get(), 3UL, 4UL );</div><div class="line"></div><div class="line"><span class="comment">// ... Initialization</span></div><div class="line"></div><div class="line">c = a + b;  <span class="comment">// AVX-based vector addition</span></div></div><!-- fragment --><p>In this example, maximum performance is possible. However, in case no padding elements are inserted, a scalar addition has to be used:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d32/classblaze_1_1CustomVector.html">blaze::CustomVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../db/dc0/structblaze_1_1Deallocate.html">blaze::Deallocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d4/d3a/group__util.html#gaf1a0f267ad32bb5a074fa67bba6cb698">blaze::allocate</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gac02fbb3ef9a09baf0b5e7b32a55cf6c7">blaze::aligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> CustomVector&lt;double,aligned,unpadded&gt;  CustomType;</div><div class="line"></div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory1( allocate&lt;double&gt;( 3UL ) );</div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory2( allocate&lt;double&gt;( 3UL ) );</div><div class="line">std::unique_ptr&lt;int[],Deallocate&gt; memory3( allocate&lt;double&gt;( 3UL ) );</div><div class="line"></div><div class="line"><span class="comment">// Creating unpadded custom vector of size 3</span></div><div class="line">CustomType a( allocate&lt;double&gt;( 3UL ), 3UL );</div><div class="line">CustomType b( allocate&lt;double&gt;( 3UL ), 3UL );</div><div class="line">CustomType c( allocate&lt;double&gt;( 3UL ), 3UL );</div><div class="line"></div><div class="line"><span class="comment">// ... Initialization</span></div><div class="line"></div><div class="line">c = a + b;  <span class="comment">// Scalar vector addition</span></div></div><!-- fragment --><p>Note the different number of constructor parameters for unpadded and padded custom vectors: In contrast to unpadded vectors, where during the construction only the size of the array has to be specified, during the construction of a padded custom vector it is additionally necessary to explicitly specify the capacity of the array.</p>
<p>The number of padding elements is required to be sufficient with respect to the available instruction set: In case of an aligned padded custom vector the added padding elements must guarantee that the capacity is greater or equal than the size and a multiple of the SIMD vector width. In case of unaligned padded vectors the number of padding elements can be greater or equal the number of padding elements of an aligned padded custom vector. In case the padding is insufficient with respect to the available instruction set, a <em>std::invalid_argument</em> exception is thrown.</p>
<p>Please also note that <b>Blaze</b> will zero initialize the padding elements in order to achieve maximum performance!</p>
<p><br />
 </p>
<h1><a class="anchor" id="vector_types_compressed_vector"></a>
CompressedVector</h1>
<hr/>
<p>The <a class="el" href="../../d5/d35/classblaze_1_1CompressedVector.html" title="Efficient implementation of an arbitrary sized sparse vector.The CompressedVector class is the repres...">blaze::CompressedVector</a> class is the representation of an arbitrarily sized sparse vector, which stores only non-zero elements of arbitrary type. It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d5/d37/CompressedVector_8h.html">blaze/math/CompressedVector.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the elements and the transpose flag of the vector can be specified via the two template parameters:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> Type, <span class="keywordtype">bool</span> TF &gt;</div><div class="line"><span class="keyword">class </span>CompressedVector;</div></div><!-- fragment --><ul>
<li><code>Type:</code> specifies the type of the vector elements. CompressedVector can be used with any non-cv-qualified, non-reference, non-pointer element type.</li>
<li><code>TF</code> : specifies whether the vector is a row vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0" title="Transpose flag for row vectors. ">blaze::rowVector</a></code>) or a column vector (<code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>). The default value is <code><a class="el" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa" title="Transpose flag for column vectors. ">blaze::columnVector</a></code>.</li>
</ul>
<p>The <a class="el" href="../../d5/d35/classblaze_1_1CompressedVector.html" title="Efficient implementation of an arbitrary sized sparse vector.The CompressedVector class is the repres...">blaze::CompressedVector</a> is the right choice for all kinds of sparse vectors:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3-dimensional integral column vector</span></div><div class="line"><a class="code" href="../../d5/d35/classblaze_1_1CompressedVector.html">blaze::CompressedVector&lt;int&gt;</a> a( 3UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 4-dimensional single precision column vector with capacity for 3 non-zero elements</span></div><div class="line"><a class="code" href="../../d5/d35/classblaze_1_1CompressedVector.html">blaze::CompressedVector&lt;float,blaze::columnVector&gt;</a> b( 4UL, 3UL );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a double precision row vector with size 0</span></div><div class="line"><a class="code" href="../../d5/d35/classblaze_1_1CompressedVector.html">blaze::CompressedVector&lt;double,blaze::rowVector&gt;</a> c;</div></div><!-- fragment --><p><br />
 Previous: <a class="el" href="../../d6/df8/vectors.html">Vectors</a> &#160; &#160; Next: <a class="el" href="../../d4/d03/vector_operations.html">Vector Operations</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 18 2017 05:50:22 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
