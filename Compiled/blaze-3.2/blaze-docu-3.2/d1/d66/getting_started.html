<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Getting Started</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This short tutorial serves the purpose to give a quick overview of the way mathematical expressions have to be formulated in <b>Blaze</b>. Starting with <a class="el" href="../../d7/dec/vector_types.html">Vector Types</a>, the following long tutorial covers the most important aspects of the <b>Blaze</b> math library.</p>
<p><br />
 </p>
<h1><a class="anchor" id="getting_started_vector_example"></a>
A First Example</h1>
<p><b>Blaze</b> is written such that using mathematical expressions is as close to mathematical textbooks as possible and therefore as intuitive as possible. In nearly all cases the seemingly easiest solution is the right solution and most users experience no problems when trying to use <b>Blaze</b> in the most natural way. The following example gives a first impression of the formulation of a vector addition in <b>Blaze:</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d8a/Math_8h.html">blaze/Math.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d9/d3c/classblaze_1_1StaticVector.html">blaze::StaticVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector</a>;</div><div class="line"></div><div class="line"><span class="comment">// Instantiation of a static 3D column vector. The vector is directly initialized as</span></div><div class="line"><span class="comment">//   ( 4 -2  5 )</span></div><div class="line">StaticVector&lt;int,3UL&gt; a{ 4, -2, 5 };</div><div class="line"></div><div class="line"><span class="comment">// Instantiation of a dynamic 3D column vector. Via the subscript operator the values are set to</span></div><div class="line"><span class="comment">//   ( 2  5 -3 )</span></div><div class="line">DynamicVector&lt;int&gt; b( 3UL );</div><div class="line">b[0] = 2;</div><div class="line">b[1] = 5;</div><div class="line">b[2] = -3;</div><div class="line"></div><div class="line"><span class="comment">// Adding the vectors a and b</span></div><div class="line">DynamicVector&lt;int&gt; c = a + b;</div><div class="line"></div><div class="line"><span class="comment">// Printing the result of the vector addition</span></div><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;c =\n&quot;</span> &lt;&lt; c &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div></div><!-- fragment --><p>Note that the entire <b>Blaze</b> math library can be included via the <code><a class="el" href="../../db/d8a/Math_8h.html" title="Header file for the inclusion of the math module of the Blaze library. ">blaze/Math.h</a></code> header file. Alternatively, the entire <b>Blaze</b> library, including both the math and the entire utility module, can be included via the <code><a class="el" href="../../d2/d52/Blaze_8h.html" title="Primary include file of the Blaze library. ">blaze/Blaze.h</a></code> header file. Also note that all classes and functions of <b>Blaze</b> are contained in the blaze namespace.<br />
<br />
 Assuming that this program resides in a source file called <code>FirstExample.cpp</code>, it can be compiled for instance via the GNU C++ compiler:</p>
<div class="fragment"><div class="line">g++ -ansi -O3 -DNDEBUG -mavx -o FirstExample FirstExample.cpp</div></div><!-- fragment --><p>Note the definition of the <code>NDEBUG</code> preprocessor symbol. In order to achieve maximum performance, it is necessary to compile the program in release mode, which deactivates all debugging functionality inside <b>Blaze</b>. It is also strongly recommended to specify the available architecture specific instruction set (as for instance the AVX instruction set, which if available can be activated via the <code>-mavx</code> flag). This allows <b>Blaze</b> to optimize computations via vectorization.<br />
<br />
 When running the resulting executable <code>FirstExample</code>, the output of the last line of this small program is</p>
<div class="fragment"><div class="line">c =</div><div class="line">6</div><div class="line">3</div><div class="line">2</div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="getting_started_matrix_example"></a>
An Example Involving Matrices</h1>
<p>Similarly easy and intuitive are expressions involving matrices:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/d8a/Math_8h.html">blaze/Math.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="../../d2/de9/namespaceblaze.html">blaze</a>;</div><div class="line"></div><div class="line"><span class="comment">// Instantiating a dynamic 3D column vector</span></div><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">DynamicVector&lt;int&gt;</a> x{ 4, -1, 3 };</div><div class="line"></div><div class="line"><span class="comment">// Instantiating a dynamic 2x3 row-major matrix, preinitialized with 0. Via the function call</span></div><div class="line"><span class="comment">// operator three values of the matrix are explicitly set to get the matrix</span></div><div class="line"><span class="comment">//   ( 1  0  4 )</span></div><div class="line"><span class="comment">//   ( 0 -2  0 )</span></div><div class="line"><a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">DynamicMatrix&lt;int&gt;</a> A( 2UL, 3UL, 0 );</div><div class="line">A(0,0) =  1;</div><div class="line">A(0,2) =  4;</div><div class="line">A(1,1) = -2;</div><div class="line"></div><div class="line"><span class="comment">// Performing a matrix/vector multiplication</span></div><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">DynamicVector&lt;int&gt;</a> y = A * x;</div><div class="line"></div><div class="line"><span class="comment">// Printing the resulting vector</span></div><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;y =\n&quot;</span> &lt;&lt; y &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">// Instantiating a static column-major matrix. The matrix is directly initialized as</span></div><div class="line"><span class="comment">//   (  3 -1 )</span></div><div class="line"><span class="comment">//   (  0  2 )</span></div><div class="line"><span class="comment">//   ( -1  0 )</span></div><div class="line"><a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">StaticMatrix&lt;int,3UL,2UL,columnMajor&gt;</a> B{ { 3, -1 }, { 0, 2 }, { -1, 0 } };</div><div class="line"></div><div class="line"><span class="comment">// Performing a matrix/matrix multiplication</span></div><div class="line"><a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">DynamicMatrix&lt;int&gt;</a> C = A * B;</div><div class="line"></div><div class="line"><span class="comment">// Printing the resulting matrix</span></div><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;C =\n&quot;</span> &lt;&lt; C &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div></div><!-- fragment --><p>The output of this program is</p>
<div class="fragment"><div class="line">y =</div><div class="line">16</div><div class="line">2</div><div class="line"></div><div class="line">C =</div><div class="line">( -1 -1 )</div><div class="line">(  0  4 )</div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="getting_started_complex_example"></a>
A Complex Example</h1>
<p>The following example is much more sophisticated. It shows the implementation of the Conjugate Gradient (CG) algorithm (<a href="http://en.wikipedia.org/wiki/Conjugate_gradient">http://en.wikipedia.org/wiki/Conjugate_gradient</a>) by means of the <b>Blaze</b> library:</p>
<div class="image">
<img src="../../cg.jpg" alt="cg.jpg"/>
</div>
<p>In this example it is not important to understand the CG algorithm itself, but to see the advantage of the API of the <b>Blaze</b> library. In the <b>Blaze</b> implementation we will use a sparse matrix/dense vector multiplication for a 2D Poisson equation using <img class="formulaInl" alt="$ N \times N $" src="../../form_18.png"/> unknowns. It becomes apparent that the core of the algorithm is very close to the mathematical formulation and therefore has huge advantages in terms of readability and maintainability, while the performance of the code is close to the expected theoretical peak performance:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">size_t</span> NN( N*N );</div><div class="line"></div><div class="line"><a class="code" href="../../da/d7a/classblaze_1_1CompressedMatrix.html">blaze::CompressedMatrix&lt;double,rowMajor&gt;</a> A( NN, NN );</div><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector&lt;double,columnVector&gt;</a> x( NN, 1.0 ), b( NN, 0.0 ), r( NN ), p( NN ), Ap( NN );</div><div class="line"><span class="keywordtype">double</span> alpha, beta, delta;</div><div class="line"></div><div class="line"><span class="comment">// ... Initializing the sparse matrix A</span></div><div class="line"></div><div class="line"><span class="comment">// Performing the CG algorithm</span></div><div class="line">r = b - A * x;</div><div class="line">p = r;</div><div class="line">delta = (r,r);</div><div class="line"></div><div class="line"><span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> iteration=0UL; iteration&lt;iterations; ++iteration )</div><div class="line">{</div><div class="line">   Ap = A * p;</div><div class="line">   alpha = delta / (p,Ap);</div><div class="line">   x += alpha * p;</div><div class="line">   r -= alpha * Ap;</div><div class="line">   beta = (r,r);</div><div class="line">   <span class="keywordflow">if</span>( <a class="code" href="../../db/df0/group__dense__matrix.html#gaf8993c014d97629a4db3bd9a61dcd8da">std::sqrt</a>( beta ) &lt; 1E-8 ) <span class="keywordflow">break</span>;</div><div class="line">   p = r + ( beta / delta ) * p;</div><div class="line">   delta = beta;</div><div class="line">}</div></div><!-- fragment --><p><br />
 Hopefully this short tutorial gives a good first impression of how mathematical expressions are formulated with <b>Blaze</b>. The following long tutorial, starting with <a class="el" href="../../d7/dec/vector_types.html">Vector Types</a>, will cover all aspects of the <b>Blaze</b> math library, i.e. it will introduce all vector and matrix types, all possible operations on vectors and matrices, and of course all possible mathematical expressions.</p>
<p><br />
 Previous: <a class="el" href="../../d2/d86/configuration_and_installation.html">Configuration and Installation</a> &#160; &#160; Next: <a class="el" href="../../d6/df8/vectors.html">Vectors</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 18 2017 05:50:22 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
