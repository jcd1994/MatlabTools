<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Triangular Matrices</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Triangular Matrices </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#adaptors_triangular_matrices_general">Triangular Matrices</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_lowermatrix">LowerMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_unilowermatrix">UniLowerMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_strictlylowermatrix">StrictlyLowerMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_uppermatrix">UpperMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_uniuppermatrix">UniUpperMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_strictlyuppermatrix">StrictlyUpperMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_diagonalmatrix">DiagonalMatrix</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_special_properties">Special Properties of Triangular Matrices</a><ul><li class="level2"><a href="#adaptors_triangular_matrices_square">Triangular Matrices Must Always be Square!</a></li>
<li class="level2"><a href="#adaptors_triangular_matrices_triangular">The Triangular Property is Always Enforced!</a></li>
<li class="level2"><a href="#adaptors_triangular_matrices_initialization">The Elements of a Dense Triangular Matrix are Always Default Initialized!</a></li>
<li class="level2"><a href="#adaptors_triangular_matrices_storage">Dense Triangular Matrices Store All Elements!</a></li>
<li class="level2"><a href="#adaptors_triangular_matrices_scaling">Unitriangular Matrices Cannot Be Scaled!</a></li>
</ul>
</li>
<li class="level1"><a href="#adaptors_triangular_matrices_arithmetic_operations">Arithmetic Operations</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_block_matrices">Triangular Block Matrices</a></li>
<li class="level1"><a href="#adaptors_triangular_matrices_performance">Performance Considerations</a><ul><li class="level2"><a href="#adaptors_triangular_matrices_matrix_matrix_multiplication">Positive Impact: Matrix/Matrix Multiplication</a></li>
<li class="level2"><a href="#adaptors_triangular_matrices_matrix_vector_multiplication">Positive Impact: Matrix/Vector Multiplication</a></li>
<li class="level2"><a href="#adaptors_triangular_matrices_assignment">Negative Impact: Assignment of a General Matrix</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_general"></a>
Triangular Matrices</h1>
<hr/>
<p>Triangular matrices come in three flavors: Lower triangular matrices provide the compile time guarantee to be square matrices and that the upper part of the matrix contains only default elements that cannot be modified. Upper triangular matrices on the other hand provide the compile time guarantee to be square and that the lower part of the matrix contains only fixed default elements. Finally, diagonal matrices provide the compile time guarantee to be square and that both the lower and upper part of the matrix contain only immutable default elements. These properties can be exploited to gain higher performance and/or to save memory. Within the <b>Blaze</b> library, several kinds of lower and upper triangular and diagonal matrices are realized by the following class templates:</p>
<p>Lower triangular matrices:</p><ul>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_lowermatrix">LowerMatrix</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_unilowermatrix">UniLowerMatrix</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_strictlylowermatrix">StrictlyLowerMatrix</a></b></li>
</ul>
<p>Upper triangular matrices:</p><ul>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_uppermatrix">UpperMatrix</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_uniuppermatrix">UniUpperMatrix</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_strictlyuppermatrix">StrictlyUpperMatrix</a></b></li>
</ul>
<p>Diagonal matrices</p><ul>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_diagonalmatrix">DiagonalMatrix</a></b></li>
</ul>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_lowermatrix"></a>
LowerMatrix</h1>
<hr/>
<p>The <a class="el" href="../../da/ddf/classblaze_1_1LowerMatrix.html" title="Matrix adapter for lower triangular  matrices. ">blaze::LowerMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all matrix elements above the diagonal are 0 (lower triangular matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} l_{0,0} &amp; 0 &amp; 0 &amp; \cdots &amp; 0 \\ l_{1,0} &amp; l_{1,1} &amp; 0 &amp; \cdots &amp; 0 \\ l_{2,0} &amp; l_{2,1} &amp; l_{2,2} &amp; \cdots &amp; 0 \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ l_{N,0} &amp; l_{N,1} &amp; l_{N,2} &amp; \cdots &amp; l_{N,N} \\ \end{array}\right).\]" src="../../form_47.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../df/d25/LowerMatrix_8h.html">blaze/math/LowerMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>LowerMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../da/ddf/classblaze_1_1LowerMatrix.html" title="Matrix adapter for lower triangular  matrices. ">blaze::LowerMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible lower matrices:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gaa4c0db94efdf35b9bf1834ace9c48177">blaze::unaligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583">blaze::columnMajor</a>;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 3x3 row-major dense lower matrix with static memory</span></div><div class="line"><a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense lower matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense lower matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix&lt; blaze::DynamicMatrix&lt;double,rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a fixed size row-major dense lower matrix based on CustomMatrix</span></div><div class="line"><a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix&lt; blaze::CustomMatrix&lt;double,unaligned,unpadded,rowMajor&gt;</a> &gt; D;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision lower matrix</span></div><div class="line"><a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix&lt; blaze::CompressedMatrix&lt;float,rowMajor&gt;</a> &gt; E;</div></div><!-- fragment --><p>The storage order of a lower matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the lower matrix will also be a row-major matrix. Otherwise, if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the lower matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_unilowermatrix"></a>
UniLowerMatrix</h1>
<hr/>
<p>The <a class="el" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html" title="Matrix adapter for lower unitriangular  matrices. ">blaze::UniLowerMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all diagonal matrix elements are 1 and all matrix elements above the diagonal are 0 (lower unitriangular matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} 1 &amp; 0 &amp; 0 &amp; \cdots &amp; 0 \\ l_{1,0} &amp; 1 &amp; 0 &amp; \cdots &amp; 0 \\ l_{2,0} &amp; l_{2,1} &amp; 1 &amp; \cdots &amp; 0 \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ l_{N,0} &amp; l_{N,1} &amp; l_{N,2} &amp; \cdots &amp; 1 \\ \end{array}\right).\]" src="../../form_50.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../df/d69/UniLowerMatrix_8h.html">blaze/math/UniLowerMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>UniLowerMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html" title="Matrix adapter for lower unitriangular  matrices. ">blaze::UniLowerMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Also, the given matrix type must have numeric element types (i.e. all integral types except <code>bool</code>, floating point and complex types). Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible lower unitriangular matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3x3 row-major dense unilower matrix with static memory</span></div><div class="line"><a class="code" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html">blaze::UniLowerMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,blaze::rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense unilower matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html">blaze::UniLowerMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,blaze::columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense unilower matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html">blaze::UniLowerMatrix&lt; blaze::DynamicMatrix&lt;double,blaze::rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision unilower matrix</span></div><div class="line"><a class="code" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html">blaze::UniLowerMatrix&lt; blaze::CompressedMatrix&lt;float,blaze::rowMajor&gt;</a> &gt; D;</div></div><!-- fragment --><p>The storage order of a lower unitriangular matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the unilower matrix will also be a row-major matrix. Otherwise if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the unilower matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_strictlylowermatrix"></a>
StrictlyLowerMatrix</h1>
<hr/>
<p>The <a class="el" href="../../db/d08/classblaze_1_1StrictlyLowerMatrix.html" title="Matrix adapter for strictly lower triangular  matrices. ">blaze::StrictlyLowerMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all diagonal matrix elements and all matrix elements above the diagonal are 0 (strictly lower triangular matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} 0 &amp; 0 &amp; 0 &amp; \cdots &amp; 0 \\ l_{1,0} &amp; 0 &amp; 0 &amp; \cdots &amp; 0 \\ l_{2,0} &amp; l_{2,1} &amp; 0 &amp; \cdots &amp; 0 \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ l_{N,0} &amp; l_{N,1} &amp; l_{N,2} &amp; \cdots &amp; 0 \\ \end{array}\right).\]" src="../../form_51.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d3/d2c/StrictlyLowerMatrix_8h.html">blaze/math/StrictlyLowerMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>StrictlyLowerMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../db/d08/classblaze_1_1StrictlyLowerMatrix.html" title="Matrix adapter for strictly lower triangular  matrices. ">blaze::StrictlyLowerMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible strictly lower triangular matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3x3 row-major dense strictly lower matrix with static memory</span></div><div class="line"><a class="code" href="../../db/d08/classblaze_1_1StrictlyLowerMatrix.html">blaze::StrictlyLowerMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,blaze::rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense strictly lower matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../db/d08/classblaze_1_1StrictlyLowerMatrix.html">blaze::StrictlyLowerMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,blaze::columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense strictly lower matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../db/d08/classblaze_1_1StrictlyLowerMatrix.html">blaze::StrictlyLowerMatrix&lt; blaze::DynamicMatrix&lt;double,blaze::rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision strictly lower matrix</span></div><div class="line"><a class="code" href="../../db/d08/classblaze_1_1StrictlyLowerMatrix.html">blaze::StrictlyLowerMatrix&lt; blaze::CompressedMatrix&lt;float,blaze::rowMajor&gt;</a> &gt; D;</div></div><!-- fragment --><p>The storage order of a strictly lower triangular matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the strictly lower matrix will also be a row-major matrix. Otherwise if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the strictly lower matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_uppermatrix"></a>
UpperMatrix</h1>
<hr/>
<p>The <a class="el" href="../../d5/daf/classblaze_1_1UpperMatrix.html" title="Matrix adapter for upper triangular  matrices. ">blaze::UpperMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all matrix elements below the diagonal are 0 (upper triangular matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} u_{0,0} &amp; u_{0,1} &amp; u_{0,2} &amp; \cdots &amp; u_{0,N} \\ 0 &amp; u_{1,1} &amp; u_{1,2} &amp; \cdots &amp; u_{1,N} \\ 0 &amp; 0 &amp; u_{2,2} &amp; \cdots &amp; u_{2,N} \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ 0 &amp; 0 &amp; 0 &amp; \cdots &amp; u_{N,N} \\ \end{array}\right).\]" src="../../form_52.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d3/d3a/UpperMatrix_8h.html">blaze/math/UpperMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>UpperMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../d5/daf/classblaze_1_1UpperMatrix.html" title="Matrix adapter for upper triangular  matrices. ">blaze::UpperMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible upper matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3x3 row-major dense upper matrix with static memory</span></div><div class="line"><a class="code" href="../../d5/daf/classblaze_1_1UpperMatrix.html">blaze::UpperMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,blaze::rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense upper matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../d5/daf/classblaze_1_1UpperMatrix.html">blaze::UpperMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,blaze::columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense upper matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../d5/daf/classblaze_1_1UpperMatrix.html">blaze::UpperMatrix&lt; blaze::DynamicMatrix&lt;double,blaze::rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision upper matrix</span></div><div class="line"><a class="code" href="../../d5/daf/classblaze_1_1UpperMatrix.html">blaze::UpperMatrix&lt; blaze::CompressedMatrix&lt;float,blaze::rowMajor&gt;</a> &gt; D;</div></div><!-- fragment --><p>The storage order of an upper matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the upper matrix will also be a row-major matrix. Otherwise, if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the upper matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_uniuppermatrix"></a>
UniUpperMatrix</h1>
<hr/>
<p>The <a class="el" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html" title="Matrix adapter for upper unitriangular  matrices. ">blaze::UniUpperMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all diagonal matrix elements are 1 and all matrix elements below the diagonal are 0 (upper unitriangular matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} 1 &amp; u_{0,1} &amp; u_{0,2} &amp; \cdots &amp; u_{0,N} \\ 0 &amp; 1 &amp; u_{1,2} &amp; \cdots &amp; u_{1,N} \\ 0 &amp; 0 &amp; 1 &amp; \cdots &amp; u_{2,N} \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ 0 &amp; 0 &amp; 0 &amp; \cdots &amp; 1 \\ \end{array}\right).\]" src="../../form_53.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d60/UniUpperMatrix_8h.html">blaze/math/UniUpperMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>UniUpperMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html" title="Matrix adapter for upper unitriangular  matrices. ">blaze::UniUpperMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Also, the given matrix type must have numeric element types (i.e. all integral types except <code>bool</code>, floating point and complex types). Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible upper unitriangular matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3x3 row-major dense uniupper matrix with static memory</span></div><div class="line"><a class="code" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html">blaze::UniUpperMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,blaze::rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense uniupper matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html">blaze::UniUpperMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,blaze::columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense uniupper matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html">blaze::UniUpperMatrix&lt; blaze::DynamicMatrix&lt;double,blaze::rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision uniupper matrix</span></div><div class="line"><a class="code" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html">blaze::UniUpperMatrix&lt; blaze::CompressedMatrix&lt;float,blaze::rowMajor&gt;</a> &gt; D;</div></div><!-- fragment --><p>The storage order of an upper unitriangular matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the uniupper matrix will also be a row-major matrix. Otherwise, if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the uniupper matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_strictlyuppermatrix"></a>
StrictlyUpperMatrix</h1>
<hr/>
<p>The <a class="el" href="../../de/d41/classblaze_1_1StrictlyUpperMatrix.html" title="Matrix adapter for strictly upper triangular  matrices. ">blaze::StrictlyUpperMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all diagonal matrix elements and all matrix elements below the diagonal are 0 (strictly upper triangular matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} 0 &amp; u_{0,1} &amp; u_{0,2} &amp; \cdots &amp; u_{0,N} \\ 0 &amp; 0 &amp; u_{1,2} &amp; \cdots &amp; u_{1,N} \\ 0 &amp; 0 &amp; 0 &amp; \cdots &amp; u_{2,N} \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ 0 &amp; 0 &amp; 0 &amp; \cdots &amp; 0 \\ \end{array}\right).\]" src="../../form_54.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d4/d9c/StrictlyUpperMatrix_8h.html">blaze/math/StrictlyUpperMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>StrictlyUpperMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../de/d41/classblaze_1_1StrictlyUpperMatrix.html" title="Matrix adapter for strictly upper triangular  matrices. ">blaze::StrictlyUpperMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible strictly upper triangular matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3x3 row-major dense strictly upper matrix with static memory</span></div><div class="line"><a class="code" href="../../de/d41/classblaze_1_1StrictlyUpperMatrix.html">blaze::StrictlyUpperMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,blaze::rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense strictly upper matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../de/d41/classblaze_1_1StrictlyUpperMatrix.html">blaze::StrictlyUpperMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,blaze::columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense strictly upper matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../de/d41/classblaze_1_1StrictlyUpperMatrix.html">blaze::StrictlyUpperMatrix&lt; blaze::DynamicMatrix&lt;double,blaze::rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision strictly upper matrix</span></div><div class="line"><a class="code" href="../../de/d41/classblaze_1_1StrictlyUpperMatrix.html">blaze::StrictlyUpperMatrix&lt; blaze::CompressedMatrix&lt;float,blaze::rowMajor&gt;</a> &gt; D;</div></div><!-- fragment --><p>The storage order of a strictly upper triangular matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the strictly upper matrix will also be a row-major matrix. Otherwise, if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the strictly upper matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_diagonalmatrix"></a>
DiagonalMatrix</h1>
<hr/>
<p>The <a class="el" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html" title="Matrix adapter for diagonal  matrices. ">blaze::DiagonalMatrix</a> class template is an adapter for existing dense and sparse matrix types. It inherits the properties and the interface of the given matrix type <code>MT</code> and extends it by enforcing the additional invariant that all matrix elements above and below the diagonal are 0 (diagonal matrix):</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[\left(\begin{array}{*{5}{c}} l_{0,0} &amp; 0 &amp; 0 &amp; \cdots &amp; 0 \\ 0 &amp; l_{1,1} &amp; 0 &amp; \cdots &amp; 0 \\ 0 &amp; 0 &amp; l_{2,2} &amp; \cdots &amp; 0 \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ 0 &amp; 0 &amp; 0 &amp; \cdots &amp; l_{N,N} \\ \end{array}\right).\]" src="../../form_179.png"/>
</p>
<p>It can be included via the header file</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../de/d28/DiagonalMatrix_8h.html">blaze/math/DiagonalMatrix.h</a>&gt;</span></div></div><!-- fragment --><p>The type of the adapted matrix can be specified via the first template parameter:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt; <span class="keyword">typename</span> MT &gt;</div><div class="line"><span class="keyword">class </span>DiagonalMatrix;</div></div><!-- fragment --><p><code>MT</code> specifies the type of the matrix to be adapted. <a class="el" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html" title="Matrix adapter for diagonal  matrices. ">blaze::DiagonalMatrix</a> can be used with any non-cv-qualified, non-reference, non-pointer, non-expression dense or sparse matrix type. Note that the given matrix type must be either resizable (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a> or <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>) or must be square at compile time (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>).</p>
<p>The following examples give an impression of several possible diagonal matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Definition of a 3x3 row-major dense diagonal matrix with static memory</span></div><div class="line"><a class="code" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html">blaze::DiagonalMatrix&lt; blaze::StaticMatrix&lt;int,3UL,3UL,blaze::rowMajor&gt;</a> &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable column-major dense diagonal matrix based on HybridMatrix</span></div><div class="line"><a class="code" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html">blaze::DiagonalMatrix&lt; blaze::HybridMatrix&lt;float,4UL,4UL,blaze::columnMajor&gt;</a> B;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a resizable row-major dense diagonal matrix based on DynamicMatrix</span></div><div class="line"><a class="code" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html">blaze::DiagonalMatrix&lt; blaze::DynamicMatrix&lt;double,blaze::rowMajor&gt;</a> &gt; C;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a compressed row-major single precision diagonal matrix</span></div><div class="line"><a class="code" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html">blaze::DiagonalMatrix&lt; blaze::CompressedMatrix&lt;float,blaze::rowMajor&gt;</a> &gt; D;</div></div><!-- fragment --><p>The storage order of a diagonal matrix is depending on the storage order of the adapted matrix type <code>MT</code>. In case the adapted matrix is stored in a row-wise fashion (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa" title="Storage order flag for row-major matrices. ">blaze::rowMajor</a>), the diagonal matrix will also be a row-major matrix. Otherwise, if the adapted matrix is column-major (i.e. is specified as <a class="el" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583" title="Storage order flag for column-major matrices. ">blaze::columnMajor</a>), the diagonal matrix will also be a column-major matrix.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_special_properties"></a>
Special Properties of Triangular Matrices</h1>
<hr/>
<p>A triangular matrix is used exactly like a matrix of the underlying, adapted matrix type <code>MT</code>. It also provides (nearly) the same interface as the underlying matrix type. However, there are some important exceptions resulting from the triangular matrix constraint:</p>
<ol type="1">
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_square">Triangular Matrices Must Always be Square!</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_triangular">The Triangular Property is Always Enforced!</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_initialization">The Elements of a Dense Triangular Matrix are Always Default Initialized!</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_storage">Dense Triangular Matrices Store All Elements!</a></b></li>
<li><b><a class="el" href="../../df/d6b/adaptors_triangular_matrices.html#adaptors_triangular_matrices_scaling">Unitriangular Matrices Cannot Be Scaled!</a></b></li>
</ol>
<p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_square"></a>
Triangular Matrices Must Always be Square!</h2>
<p>In case a resizable matrix is used (as for instance <a class="el" href="../../d6/d60/classblaze_1_1HybridMatrix.html" title="Efficient implementation of a dynamically sized matrix with static memory.The HybridMatrix class temp...">blaze::HybridMatrix</a>, <a class="el" href="../../de/d1e/classblaze_1_1DynamicMatrix.html" title="Efficient implementation of a dynamic  matrix.The DynamicMatrix class template is the representation ...">blaze::DynamicMatrix</a>, or <a class="el" href="../../da/d7a/classblaze_1_1CompressedMatrix.html" title="Efficient implementation of a  compressed matrix.The CompressedMatrix class template is the represent...">blaze::CompressedMatrix</a>), this means that the according constructors, the <code><a class="el" href="../../dd/d7a/group__matrix.html#ga651c6be92e3a13425c42f3d92cf309fc" title="Changing the size of the matrix. ">resize()</a></code> and the <code>extend()</code> functions only expect a single parameter, which specifies both the number of rows and columns, instead of two (one for the number of rows and one for the number of columns):</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"></div><div class="line"><span class="comment">// Default constructed, default initialized, row-major 3x3 lower dynamic matrix</span></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double,rowMajor&gt; &gt; A( 3 );</div><div class="line"></div><div class="line"><span class="comment">// Resizing the matrix to 5x5</span></div><div class="line">A.resize( 5 );</div><div class="line"></div><div class="line"><span class="comment">// Extending the number of rows and columns by 2, resulting in a 7x7 matrix</span></div><div class="line">A.extend( 2 );</div></div><!-- fragment --><p>In case a matrix with a fixed size is used (as for instance <a class="el" href="../../d3/dd3/classblaze_1_1StaticMatrix.html" title="Efficient implementation of a fixed-sized matrix.The StaticMatrix class template is the representatio...">blaze::StaticMatrix</a>), the number of rows and number of columns must be specified equally:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">blaze::StaticMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583">blaze::columnMajor</a>;</div><div class="line"></div><div class="line"><span class="comment">// Correct setup of a fixed size column-major 3x3 lower static matrix</span></div><div class="line">LowerMatrix&lt; StaticMatrix&lt;int,3UL,3UL,columnMajor&gt; &gt; A;</div><div class="line"></div><div class="line"><span class="comment">// Compilation error: the provided matrix type is not a square matrix type</span></div><div class="line">LowerMatrix&lt; StaticMatrix&lt;int,3UL,4UL,columnMajor&gt; &gt; B;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_triangular"></a>
The Triangular Property is Always Enforced!</h2>
<p>This means that it is only allowed to modify elements in the lower part or the diagonal of a lower triangular matrix and in the upper part or the diagonal of an upper triangular matrix. Unitriangular and strictly triangular matrices are even more restrictive and don't allow the modification of diagonal elements. Also, triangular matrices can only be assigned matrices that don't violate their triangular property. The following example demonstrates this restriction by means of the <a class="el" href="../../da/ddf/classblaze_1_1LowerMatrix.html" title="Matrix adapter for lower triangular  matrices. ">blaze::LowerMatrix</a> adaptor. For examples with other triangular matrix types see the according class documentations.</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d7a/classblaze_1_1CompressedMatrix.html">blaze::CompressedMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">blaze::StaticMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> LowerMatrix&lt; CompressedMatrix&lt;double,rowMajor&gt; &gt;  CompressedLower;</div><div class="line"></div><div class="line"><span class="comment">// Default constructed, row-major 3x3 lower compressed matrix</span></div><div class="line">CompressedLower A( 3 );</div><div class="line"></div><div class="line"><span class="comment">// Initializing elements via the function call operator</span></div><div class="line">A(0,0) = 1.0;  <span class="comment">// Initialization of the diagonal element (0,0)</span></div><div class="line">A(2,0) = 2.0;  <span class="comment">// Initialization of the lower element (2,0)</span></div><div class="line">A(1,2) = 9.0;  <span class="comment">// Throws an exception; invalid modification of upper element</span></div><div class="line"></div><div class="line"><span class="comment">// Inserting two more elements via the insert() function</span></div><div class="line">A.insert( 1, 0, 3.0 );  <span class="comment">// Inserting the lower element (1,0)</span></div><div class="line">A.insert( 2, 1, 4.0 );  <span class="comment">// Inserting the lower element (2,1)</span></div><div class="line">A.insert( 0, 2, 9.0 );  <span class="comment">// Throws an exception; invalid insertion of upper element</span></div><div class="line"></div><div class="line"><span class="comment">// Appending an element via the append() function</span></div><div class="line">A.reserve( 1, 3 );      <span class="comment">// Reserving enough capacity in row 1</span></div><div class="line">A.append( 1, 1, 5.0 );  <span class="comment">// Appending the diagonal element (1,1)</span></div><div class="line">A.append( 1, 2, 9.0 );  <span class="comment">// Throws an exception; appending an element in the upper part</span></div><div class="line"></div><div class="line"><span class="comment">// Access via a non-const iterator</span></div><div class="line"><a class="code" href="../../d2/de9/namespaceblaze.html#a8edd0302e146f39097a411783a7214f5">CompressedLower::Iterator</a> it = A.begin(1);</div><div class="line">*it = 6.0;  <span class="comment">// Modifies the lower element (1,0)</span></div><div class="line">++it;</div><div class="line">*it = 9.0;  <span class="comment">// Modifies the diagonal element (1,1)</span></div><div class="line"></div><div class="line"><span class="comment">// Erasing elements via the erase() function</span></div><div class="line">A.erase( 0, 0 );  <span class="comment">// Erasing the diagonal element (0,0)</span></div><div class="line">A.erase( 2, 0 );  <span class="comment">// Erasing the lower element (2,0)</span></div><div class="line"></div><div class="line"><span class="comment">// Construction from a lower dense matrix</span></div><div class="line">StaticMatrix&lt;double,3UL,3UL&gt; B{ {  3.0,  0.0,  0.0 },</div><div class="line">                                {  8.0,  0.0,  0.0 },</div><div class="line">                                { -2.0, -1.0,  4.0 } };</div><div class="line"></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double,rowMajor&gt; &gt; C( B );  <span class="comment">// OK</span></div><div class="line"></div><div class="line"><span class="comment">// Assignment of a non-lower dense matrix</span></div><div class="line">StaticMatrix&lt;double,3UL,3UL&gt; D{ {  3.0,  0.0, -2.0 },</div><div class="line">                                {  8.0,  0.0,  0.0 },</div><div class="line">                                { -2.0, -1.0,  4.0 } };</div><div class="line"></div><div class="line">C = D;  <span class="comment">// Throws an exception; lower matrix invariant would be violated!</span></div></div><!-- fragment --><p>The triangular property is also enforced during the construction of triangular custom matrices: In case the given array of elements does not represent the according triangular matrix type, a <code>std::invalid_argument</code> exception is thrown:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d43/classblaze_1_1CustomMatrix.html">blaze::CustomMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#gaa4c0db94efdf35b9bf1834ace9c48177">blaze::unaligned</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/df1/group__math.html#ga1858f68dbe5aba0ded4e45358324e3a1">blaze::unpadded</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> LowerMatrix&lt; CustomMatrix&lt;double,unaligned,unpadded,rowMajor&gt; &gt;  CustomLower;</div><div class="line"></div><div class="line"><span class="comment">// Creating a 3x3 lower custom matrix from a properly initialized array</span></div><div class="line"><span class="keywordtype">double</span> array[9] = { 1.0, 0.0, 0.0,</div><div class="line">                    2.0, 3.0, 0.0,</div><div class="line">                    4.0, 5.0, 6.0 };</div><div class="line">CustomLower A( array, 3UL );  <span class="comment">// OK</span></div><div class="line"></div><div class="line"><span class="comment">// Attempt to create a second 3x3 lower custom matrix from an uninitialized array</span></div><div class="line">CustomLower B( <span class="keyword">new</span> <span class="keywordtype">double</span>[9UL], 3UL, <a class="code" href="../../d0/d60/structblaze_1_1ArrayDelete.html">blaze::ArrayDelete</a>() );  <span class="comment">// Throws an exception</span></div></div><!-- fragment --><p>Finally, the triangular matrix property is enforced for views (rows, columns, submatrices, ...) on the triangular matrix. The following example demonstrates that modifying the elements of an entire row and submatrix of a lower matrix only affects the lower and diagonal matrix elements. Again, this example uses <a class="el" href="../../da/ddf/classblaze_1_1LowerMatrix.html" title="Matrix adapter for lower triangular  matrices. ">blaze::LowerMatrix</a>, for examples with other triangular matrix types see the according class documentations.</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"></div><div class="line"><span class="comment">// Setup of the lower matrix</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//       ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A = ( 1 2 0 0 )</span></div><div class="line"><span class="comment">//       ( 0 3 0 0 )</span></div><div class="line"><span class="comment">//       ( 4 0 5 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;int&gt; &gt; A( 4 );</div><div class="line">A(1,0) = 1;</div><div class="line">A(1,1) = 2;</div><div class="line">A(2,1) = 3;</div><div class="line">A(3,0) = 4;</div><div class="line">A(3,2) = 5;</div><div class="line"></div><div class="line"><span class="comment">// Setting the lower and diagonal elements in the 2nd row to 9 results in the matrix</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//       ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A = ( 1 2 0 0 )</span></div><div class="line"><span class="comment">//       ( 9 9 9 0 )</span></div><div class="line"><span class="comment">//       ( 4 0 5 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line"><a class="code" href="../../d0/d48/group__views.html#ga062bf148d887c56afde41f4649897dbe">row</a>( A, 2 ) = 9;</div><div class="line"></div><div class="line"><span class="comment">// Setting the lower and diagonal elements in the 1st and 2nd column to 7 results in</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//       ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A = ( 1 7 0 0 )</span></div><div class="line"><span class="comment">//       ( 9 7 7 0 )</span></div><div class="line"><span class="comment">//       ( 4 7 7 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line"><a class="code" href="../../d0/d48/group__views.html#ga92ecd6696c9080d5f3116b91836beb87">submatrix</a>( A, 0, 1, 4, 2 ) = 7;</div></div><!-- fragment --><p>The next example demonstrates the (compound) assignment to rows/columns and submatrices of triangular matrices. Since only lower/upper and potentially diagonal elements may be modified the matrix to be assigned must be structured such that the triangular matrix invariant of the matrix is preserved. Otherwise a <code>std::invalid_argument</code> exception is thrown:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a006b6328815f2632d2c5ab8b869c5cf0">blaze::rowVector</a>;</div><div class="line"></div><div class="line"><span class="comment">// Setup of two default 4x4 lower matrices</span></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;int&gt; &gt; A1( 4 ), A2( 4 );</div><div class="line"></div><div class="line"><span class="comment">// Setup of a 4-dimensional vector</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//   v = ( 1 2 3 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line">DynamicVector&lt;int,rowVector&gt; v{ 1, 2, 3, 0 };</div><div class="line"></div><div class="line"><span class="comment">// OK: Assigning v to the 2nd row of A1 preserves the lower matrix invariant</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A1 = ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//        ( 1 2 3 0 )</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line"><a class="code" href="../../d0/d48/group__views.html#ga062bf148d887c56afde41f4649897dbe">row</a>( A1, 2 ) = v;  <span class="comment">// OK</span></div><div class="line"></div><div class="line"><span class="comment">// Error: Assigning v to the 1st row of A1 violates the lower matrix invariant! The element</span></div><div class="line"><span class="comment">//   marked with X cannot be assigned and triggers an exception.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A1 = ( 1 2 X 0 )</span></div><div class="line"><span class="comment">//        ( 1 2 3 0 )</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line"><a class="code" href="../../d0/d48/group__views.html#ga062bf148d887c56afde41f4649897dbe">row</a>( A1, 1 ) = v;  <span class="comment">// Assignment throws an exception!</span></div><div class="line"></div><div class="line"><span class="comment">// Setup of the 3x2 dynamic matrix</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//       ( 0 0 )</span></div><div class="line"><span class="comment">//   B = ( 7 0 )</span></div><div class="line"><span class="comment">//       ( 8 9 )</span></div><div class="line"><span class="comment">//</span></div><div class="line">DynamicMatrix&lt;int&gt; B( 3UL, 2UL, 0 );</div><div class="line">B(1,0) = 7;</div><div class="line">B(2,0) = 8;</div><div class="line">B(2,1) = 9;</div><div class="line"></div><div class="line"><span class="comment">// OK: Assigning B to a submatrix of A2 such that the lower matrix invariant can be preserved</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A2 = ( 0 7 0 0 )</span></div><div class="line"><span class="comment">//        ( 0 8 9 0 )</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line"><a class="code" href="../../d0/d48/group__views.html#ga92ecd6696c9080d5f3116b91836beb87">submatrix</a>( A2, 0UL, 1UL, 3UL, 2UL ) = B;  <span class="comment">// OK</span></div><div class="line"></div><div class="line"><span class="comment">// Error: Assigning B to a submatrix of A2 such that the lower matrix invariant cannot be</span></div><div class="line"><span class="comment">//   preserved! The elements marked with X cannot be assigned without violating the invariant!</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//   A2 = ( 0 7 X 0 )</span></div><div class="line"><span class="comment">//        ( 0 8 8 X )</span></div><div class="line"><span class="comment">//        ( 0 0 0 0 )</span></div><div class="line"><span class="comment">//</span></div><div class="line"><a class="code" href="../../d0/d48/group__views.html#ga92ecd6696c9080d5f3116b91836beb87">submatrix</a>( A2, 0UL, 2UL, 3UL, 2UL ) = B;  <span class="comment">// Assignment throws an exception!</span></div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_initialization"></a>
The Elements of a Dense Triangular Matrix are Always Default Initialized!</h2>
<p>Although this results in a small loss of efficiency during the creation of a dense lower or upper matrix this initialization is important since otherwise the lower/upper matrix property of dense lower matrices would not be guaranteed:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d5/daf/classblaze_1_1UpperMatrix.html">blaze::UpperMatrix</a>;</div><div class="line"></div><div class="line"><span class="comment">// Uninitialized, 5x5 row-major dynamic matrix</span></div><div class="line">DynamicMatrix&lt;int,rowMajor&gt; A( 5, 5 );</div><div class="line"></div><div class="line"><span class="comment">// 5x5 row-major lower dynamic matrix with default initialized upper matrix</span></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;int,rowMajor&gt; &gt; B( 5 );</div><div class="line"></div><div class="line"><span class="comment">// 7x7 column-major upper dynamic matrix with default initialized lower matrix</span></div><div class="line">UpperMatrix&lt; DynamicMatrix&lt;int,columnMajor&gt; &gt; C( 7 );</div><div class="line"></div><div class="line"><span class="comment">// 3x3 row-major diagonal dynamic matrix with default initialized lower and upper matrix</span></div><div class="line">DiagonalMatrix&lt; DynamicMatrix&lt;int,rowMajor&gt; &gt; D( 3 );</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_storage"></a>
Dense Triangular Matrices Store All Elements!</h2>
<p>All dense triangular matrices store all <img class="formulaInl" alt="$ N \times N $" src="../../form_18.png"/> elements, including the immutable elements in the lower or upper part, respectively. Therefore dense triangular matrices don't provide any kind of memory reduction! There are two main reasons for this: First, storing also the zero elements guarantees maximum performance for many algorithms that perform vectorized operations on the triangular matrices, which is especially true for small dense matrices. Second, conceptually all triangular adaptors merely restrict the interface to the matrix type <code>MT</code> and do not change the data layout or the underlying matrix type.</p>
<p>This property matters most for diagonal matrices. In order to achieve the perfect combination of performance and memory consumption for a diagonal matrix it is recommended to use dense matrices for small diagonal matrices and sparse matrices for large diagonal matrices:</p>
<div class="fragment"><div class="line"><span class="comment">// Recommendation 1: use dense matrices for small diagonal matrices</span></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html">blaze::DiagonalMatrix&lt; blaze::StaticMatrix&lt;float,3UL,3UL&gt;</a> &gt;  SmallDiagonalMatrix;</div><div class="line"></div><div class="line"><span class="comment">// Recommendation 2: use sparse matrices for large diagonal matrices</span></div><div class="line"><span class="keyword">typedef</span> <a class="code" href="../../d9/d3f/classblaze_1_1DiagonalMatrix.html">blaze::DiagonalMatrix&lt; blaze::CompressedMatrix&lt;float&gt;</a> &gt;  LargeDiagonalMatrix;</div></div><!-- fragment --><p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_scaling"></a>
Unitriangular Matrices Cannot Be Scaled!</h2>
<p>Since the diagonal elements of a unitriangular matrix have a fixed value of 1 it is not possible to self-scale such a matrix:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html">blaze::UniLowerMatrix</a>;</div><div class="line"></div><div class="line">UniLowerMatrix&lt; DynamicMatrix&lt;int&gt; &gt; A( 4 );</div><div class="line"></div><div class="line">A *= 2;        <span class="comment">// Compilation error; Scale operation is not available on an unilower matrix</span></div><div class="line">A /= 2;        <span class="comment">// Compilation error; Scale operation is not available on an unilower matrix</span></div><div class="line">A.scale( 2 );  <span class="comment">// Compilation error; Scale function is not available on an unilower matrix</span></div><div class="line"></div><div class="line">A = A * 2;  <span class="comment">// Throws an exception; Invalid assignment of non-unilower matrix</span></div><div class="line">A = A / 2;  <span class="comment">// Throws an exception; Invalid assignment of non-unilower matrix</span></div></div><!-- fragment --><p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_arithmetic_operations"></a>
Arithmetic Operations</h1>
<hr/>
<p>A lower and upper triangular matrix can participate in numerical operations in any way any other dense or sparse matrix can participate. It can also be combined with any other dense or sparse vector or matrix. The following code example gives an impression of the use of <a class="el" href="../../da/ddf/classblaze_1_1LowerMatrix.html" title="Matrix adapter for lower triangular  matrices. ">blaze::LowerMatrix</a> within arithmetic operations:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d6/d60/classblaze_1_1HybridMatrix.html">blaze::HybridMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">blaze::StaticMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d7a/classblaze_1_1CompressedMatrix.html">blaze::CompressedMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583">blaze::columnMajor</a>;</div><div class="line"></div><div class="line">DynamicMatrix&lt;double,rowMajor&gt; A( 3, 3 );</div><div class="line">CompressedMatrix&lt;double,rowMajor&gt; B( 3, 3 );</div><div class="line"></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double,rowMajor&gt; &gt; C( 3 );</div><div class="line">LowerMatrix&lt; CompressedMatrix&lt;double,rowMajor&gt; &gt; D( 3 );</div><div class="line"></div><div class="line">LowerMatrix&lt; HybridMatrix&lt;float,3UL,3UL,rowMajor&gt; &gt; E;</div><div class="line">LowerMatrix&lt; StaticMatrix&lt;float,3UL,3UL,columnMajor&gt; &gt; F;</div><div class="line"></div><div class="line">E = A + B;     <span class="comment">// Matrix addition and assignment to a row-major lower matrix (includes runtime check)</span></div><div class="line">F = C - D;     <span class="comment">// Matrix subtraction and assignment to a column-major lower matrix (only compile time check)</span></div><div class="line">F = A * D;     <span class="comment">// Matrix multiplication between a dense and a sparse matrix (includes runtime check)</span></div><div class="line"></div><div class="line">C *= 2.0;      <span class="comment">// In-place scaling of matrix C</span></div><div class="line">E  = 2.0 * B;  <span class="comment">// Scaling of matrix B (includes runtime check)</span></div><div class="line">F  = C * 2.0;  <span class="comment">// Scaling of matrix C (only compile time check)</span></div><div class="line"></div><div class="line">E += A - B;    <span class="comment">// Addition assignment (includes runtime check)</span></div><div class="line">F -= C + D;    <span class="comment">// Subtraction assignment (only compile time check)</span></div><div class="line">F *= A * D;    <span class="comment">// Multiplication assignment (includes runtime check)</span></div></div><!-- fragment --><p>Note that it is possible to assign any kind of matrix to a triangular matrix. In case the matrix to be assigned does not satisfy the invariants of the triangular matrix at compile time, a runtime check is performed. Also note that upper triangular, diagonal, unitriangular and strictly triangular matrix types can be used in the same way, but may pose some additional restrictions (see the according class documentations).</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_block_matrices"></a>
Triangular Block Matrices</h1>
<hr/>
<p>It is also possible to use triangular block matrices:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d7a/classblaze_1_1CompressedMatrix.html">blaze::CompressedMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">blaze::StaticMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d5/daf/classblaze_1_1UpperMatrix.html">blaze::UpperMatrix</a>;</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 5x5 lower block matrix based on DynamicMatrix</span></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt; StaticMatrix&lt;int,3UL,3UL&gt; &gt; &gt; A( 5 );</div><div class="line"></div><div class="line"><span class="comment">// Definition of a 7x7 upper block matrix based on CompressedMatrix</span></div><div class="line">UpperMatrix&lt; CompressedMatrix&lt; StaticMatrix&lt;int,3UL,3UL&gt; &gt; &gt; B( 7 );</div></div><!-- fragment --><p>Also in this case the triangular matrix invariant is enforced, i.e. it is not possible to manipulate elements in the upper part (lower triangular matrix) or the lower part (upper triangular matrix) of the matrix:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> StaticMatrix&lt;int,3UL,3UL&gt; C{ {1, -4,  5 },</div><div class="line">                                   { 6,  8, -3 },</div><div class="line">                                   { 2, -1,  2 } };</div><div class="line"></div><div class="line">A(2,4)(1,1) = -5;     <span class="comment">// Invalid manipulation of upper matrix element; Results in an exception</span></div><div class="line">B.insert( 4, 2, C );  <span class="comment">// Invalid insertion of the elements (4,2); Results in an exception</span></div></div><!-- fragment --><p>Note that unitriangular matrices are restricted to numeric element types and therefore cannot be used for block matrices:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d7a/classblaze_1_1CompressedMatrix.html">blaze::CompressedMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d3/dd3/classblaze_1_1StaticMatrix.html">blaze::StaticMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/d62/classblaze_1_1UniLowerMatrix.html">blaze::UniLowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../db/d0d/classblaze_1_1UniUpperMatrix.html">blaze::UniUpperMatrix</a>;</div><div class="line"></div><div class="line"><span class="comment">// Compilation error: lower unitriangular matrices are restricted to numeric element types</span></div><div class="line">UniLowerMatrix&lt; DynamicMatrix&lt; StaticMatrix&lt;int,3UL,3UL&gt; &gt; &gt; A( 5 );</div><div class="line"></div><div class="line"><span class="comment">// Compilation error: upper unitriangular matrices are restricted to numeric element types</span></div><div class="line">UniUpperMatrix&lt; CompressedMatrix&lt; StaticMatrix&lt;int,3UL,3UL&gt; &gt; &gt; B( 7 );</div></div><!-- fragment --><p>For more information on block matrices, see the tutorial on <a class="el" href="../../de/d51/block_vectors_and_matrices.html">Block Vectors and Matrices</a>.</p>
<p><br />
 </p>
<h1><a class="anchor" id="adaptors_triangular_matrices_performance"></a>
Performance Considerations</h1>
<hr/>
<p>The <b>Blaze</b> library tries to exploit the properties of lower and upper triangular matrices whenever and wherever possible. Therefore using triangular matrices instead of a general matrices can result in a considerable performance improvement. However, there are also situations when using a triangular matrix introduces some overhead. The following examples demonstrate several common situations where triangular matrices can positively or negatively impact performance.</p>
<p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_matrix_matrix_multiplication"></a>
Positive Impact: Matrix/Matrix Multiplication</h2>
<p>When multiplying two matrices, at least one of which is triangular, <b>Blaze</b> can exploit the fact that either the lower or upper part of the matrix contains only default elements and restrict the algorithm to the non-zero elements. The following example demonstrates this by means of a dense matrix/dense matrix multiplication with lower triangular matrices:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a5e42e1508f7d4d364fe7c64eef78a583">blaze::columnMajor</a>;</div><div class="line"></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double,rowMajor&gt; &gt; A;</div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double,columnMajor&gt; &gt; B;</div><div class="line">DynamicMatrix&lt;double,columnMajor&gt; C;</div><div class="line"></div><div class="line"><span class="comment">// ... Resizing and initialization</span></div><div class="line"></div><div class="line">C = A * B;</div></div><!-- fragment --><p>In comparison to a general matrix multiplication, the performance advantage is significant, especially for large matrices. Therefore is it highly recommended to use the <a class="el" href="../../da/ddf/classblaze_1_1LowerMatrix.html" title="Matrix adapter for lower triangular  matrices. ">blaze::LowerMatrix</a> and <a class="el" href="../../d5/daf/classblaze_1_1UpperMatrix.html" title="Matrix adapter for upper triangular  matrices. ">blaze::UpperMatrix</a> adaptors when a matrix is known to be lower or upper triangular, respectively. Note however that the performance advantage is most pronounced for dense matrices and much less so for sparse matrices.</p>
<p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_matrix_vector_multiplication"></a>
Positive Impact: Matrix/Vector Multiplication</h2>
<p>A similar performance improvement can be gained when using a triangular matrix in a matrix/vector multiplication:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#a511878ce70095271b6d0dd5b855a9eaa">blaze::rowMajor</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../d2/de9/namespaceblaze.html#acee466faebcaba59afde0fbfe22041aa">blaze::columnVector</a>;</div><div class="line"></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double,rowMajor&gt; &gt; A;</div><div class="line">DynamicVector&lt;double,columnVector&gt; x, y;</div><div class="line"></div><div class="line"><span class="comment">// ... Resizing and initialization</span></div><div class="line"></div><div class="line">y = A * x;</div></div><!-- fragment --><p>In this example, <b>Blaze</b> also exploits the structure of the matrix and approx. halves the runtime of the multiplication. Also in case of matrix/vector multiplications the performance improvement is most pronounced for dense matrices and much less so for sparse matrices.</p>
<p><br />
 </p>
<h2><a class="anchor" id="adaptors_triangular_matrices_assignment"></a>
Negative Impact: Assignment of a General Matrix</h2>
<p>In contrast to using a triangular matrix on the right-hand side of an assignment (i.e. for read access), which introduces absolutely no performance penalty, using a triangular matrix on the left-hand side of an assignment (i.e. for write access) may introduce additional overhead when it is assigned a general matrix, which is not triangular at compile time:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="../../de/d1e/classblaze_1_1DynamicMatrix.html">blaze::DynamicMatrix</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="../../da/ddf/classblaze_1_1LowerMatrix.html">blaze::LowerMatrix</a>;</div><div class="line"></div><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double&gt; &gt; A, C;</div><div class="line">DynamicMatrix&lt;double&gt; B;</div><div class="line"></div><div class="line">B = A;  <span class="comment">// Only read-access to the lower matrix; no performance penalty</span></div><div class="line">C = A;  <span class="comment">// Assignment of a lower matrix to another lower matrix; no runtime overhead</span></div><div class="line">C = B;  <span class="comment">// Assignment of a general matrix to a lower matrix; some runtime overhead</span></div></div><!-- fragment --><p>When assigning a general (potentially not lower triangular) matrix to a lower matrix or a general (potentially not upper triangular) matrix to an upper matrix it is necessary to check whether the matrix is lower or upper at runtime in order to guarantee the triangular property of the matrix. In case it turns out to be lower or upper, respectively, it is assigned as efficiently as possible, if it is not, an exception is thrown. In order to prevent this runtime overhead it is therefore generally advisable to assign lower or upper triangular matrices to other lower or upper triangular matrices.<br />
In this context it is especially noteworthy that the addition, subtraction, and multiplication of two triangular matrices of the same structure always results in another triangular matrix:</p>
<div class="fragment"><div class="line">LowerMatrix&lt; DynamicMatrix&lt;double&gt; &gt; A, B, C;</div><div class="line"></div><div class="line">C = A + B;  <span class="comment">// Results in a lower matrix; no runtime overhead</span></div><div class="line">C = A - B;  <span class="comment">// Results in a lower matrix; no runtime overhead</span></div><div class="line">C = A * B;  <span class="comment">// Results in a lower matrix; no runtime overhead</span></div></div><!-- fragment --><div class="fragment"><div class="line">UpperMatrix&lt; DynamicMatrix&lt;double&gt; &gt; A, B, C;</div><div class="line"></div><div class="line">C = A + B;  <span class="comment">// Results in a upper matrix; no runtime overhead</span></div><div class="line">C = A - B;  <span class="comment">// Results in a upper matrix; no runtime overhead</span></div><div class="line">C = A * B;  <span class="comment">// Results in a upper matrix; no runtime overhead</span></div></div><!-- fragment --><p><br />
 Previous: <a class="el" href="../../de/d16/adaptors_hermitian_matrices.html">Hermitian Matrices</a> &#160; &#160; Next: <a class="el" href="../../d2/d1b/views.html">Views</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 18 2017 05:50:23 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
