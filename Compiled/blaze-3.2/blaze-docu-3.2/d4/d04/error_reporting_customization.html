<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Customization of the Error Reporting Mechanism</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Customization of the Error Reporting Mechanism </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#error_reporting_background">Background</a></li>
<li class="level1"><a href="#error_reporting_general_customization">Customization of the Reporting Mechanism</a></li>
<li class="level1"><a href="#error_reporting_exception_customization">Customization of the Type of Exceptions</a></li>
<li class="level1"><a href="#error_reporting_special_errors">Customization of Special Errors</a></li>
</ul>
</div>
<div class="textblock"><p><br />
 </p>
<h1><a class="anchor" id="error_reporting_background"></a>
Background</h1>
<hr/>
<p>The default way of <b>Blaze</b> to report errors of any kind is to throw a standard exception. However, although in general this approach works well, in certain environments and under special circumstances exceptions may not be the mechanism of choice and a different error reporting mechanism may be desirable. For this reason, <b>Blaze</b> provides several macros, which enable the customization of the error reporting mechanism. Via these macros it is possible to replace the standard exceptions by some other exception type or a completely different approach to report errors.</p>
<p><br />
 </p>
<h1><a class="anchor" id="error_reporting_general_customization"></a>
Customization of the Reporting Mechanism</h1>
<hr/>
<p>In some cases it might be necessary to adapt the entire error reporting mechanism and to replace it by some other means to signal failure. The primary macro for this purpose is the <code>BLAZE_THROW</code> macro:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BLAZE_THROW( EXCEPTION ) \</span></div><div class="line"><span class="preprocessor">   throw EXCEPTION</span></div></div><!-- fragment --><p>This macro represents the default mechanism of the <b>Blaze</b> library to report errors of any kind. In order to customize the error reporing mechanism all that needs to be done is to define the macro prior to including any <b>Blaze</b> header file. This will cause the <b>Blaze</b> specific mechanism to be overridden. The following example demonstrates this by replacing exceptions by a call to a <code><a class="el" href="../../db/df0/group__dense__matrix.html#ga33c9b9a39f0e7c6637b6af4f5e252e7a" title="Computes the natural logarithm for each single element of the dense matrix dm. ">log()</a></code> function and a direct call to abort:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BLAZE_THROW( EXCEPTION ) \</span></div><div class="line"><span class="preprocessor">   log( &quot;...&quot; ); \</span></div><div class="line"><span class="preprocessor">   abort()</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/d52/Blaze_8h.html">blaze/Blaze.h</a>&gt;</span></div></div><!-- fragment --><p>Doing this will trigger a call to <code><a class="el" href="../../db/df0/group__dense__matrix.html#ga33c9b9a39f0e7c6637b6af4f5e252e7a" title="Computes the natural logarithm for each single element of the dense matrix dm. ">log()</a></code> and an abort instead of throwing an exception whenever an error (such as an invalid argument) is detected.</p>
<dl class="section note"><dt>Note</dt><dd>It is possible to execute several statements instead of executing a single statement to throw an exception. Also note that it is recommended to define the macro such that a subsequent semicolon is required!</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This macro is provided with the intention to assist in adapting <b>Blaze</b> to special conditions and environments. However, the customization of the error reporting mechanism via this macro can have a significant effect on the library. Thus be advised to use the macro with due care!</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="error_reporting_exception_customization"></a>
Customization of the Type of Exceptions</h1>
<hr/>
<p>In addition to the customization of the entire error reporting mechanism it is also possible to customize the type of exceptions being thrown. This can be achieved by customizing any number of the following macros:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BLAZE_THROW_BAD_ALLOC \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( std::bad_alloc() )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_LOGIC_ERROR( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( std::logic_error( MESSAGE ) )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_INVALID_ARGUMENT( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( std::invalid_argument( MESSAGE ) )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_LENGTH_ERROR( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( std::length_error( MESSAGE ) )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_OUT_OF_RANGE( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( std::out_of_range( MESSAGE ) )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_RUNTIME_ERROR( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( std::runtime_error( MESSAGE ) )</span></div></div><!-- fragment --><p>In order to customize the type of exception the according macro has to be defined prior to including any <b>Blaze</b> header file. This will override the <b>Blaze</b> default behavior. The following example demonstrates this by replacing <code>std::invalid_argument</code> by a custom exception type:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>InvalidArgument</div><div class="line">{</div><div class="line"> <span class="keyword">public</span>:</div><div class="line">   InvalidArgument();</div><div class="line">   <span class="keyword">explicit</span> InvalidArgument( <span class="keyword">const</span> std::string&amp; message );</div><div class="line">   <span class="comment">// ...</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_INVALID_ARGUMENT( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW( InvalidArgument( MESSAGE ) )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d2/d52/Blaze_8h.html">blaze/Blaze.h</a>&gt;</span></div></div><!-- fragment --><p>By manually defining the macro, an <code>InvalidArgument</code> exception is thrown instead of a <code>std::invalid_argument</code> exception. Note that it is recommended to define the macro such that a subsequent semicolon is required!</p>
<dl class="section warning"><dt>Warning</dt><dd>These macros are provided with the intention to assist in adapting <b>Blaze</b> to special conditions and environments. However, the customization of the type of an exception via this macro may have an effect on the library. Thus be advised to use the macro with due care!</dd></dl>
<p><br />
 </p>
<h1><a class="anchor" id="error_reporting_special_errors"></a>
Customization of Special Errors</h1>
<hr/>
<p>Last but not least it is possible to customize the error reporting for special kinds of errors. This can be achieved by customizing any number of the following macros:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define BLAZE_THROW_DIVISION_BY_ZERO( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW_RUNTIME_ERROR( MESSAGE )</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define BLAZE_THROW_LAPACK_ERROR( MESSAGE ) \</span></div><div class="line"><span class="preprocessor">   BLAZE_THROW_RUNTIME_ERROR( MESSAGE )</span></div></div><!-- fragment --><p>As explained in the previous sections, in order to customize the handling of special errors the according macro has to be defined prior to including any <b>Blaze</b> header file. This will override the <b>Blaze</b> default behavior.</p>
<p><br />
 Previous: <a class="el" href="../../d4/de4/vector_and_matrix_customization.html">Customization of Vectors and Matrices</a> &#160; &#160; Next: <a class="el" href="../../d6/d55/blas_functions.html">BLAS Functions</a> <br />
</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 18 2017 05:50:23 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
