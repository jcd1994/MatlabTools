<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S21T52U106">B</span> = for_test(<span class="var type1" id="S22T3U109">A</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line"><span class="mxinfo " id="T53:U3"><span class="var type1" id="S23T53U112">f</span> = <span class="mxinfo " id="T53:U5">@func</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line"><span class="mxinfo " id="T51:U6"><span class="var type1" id="S25T51U117">options</span> = <span class="mxinfo " id="T51:U8">optimset(<span class="string">'MaxFunEvals'</span>,100000,<span class="string">'Display'</span>,<span class="string">'none'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line"><span class="mxinfo " id="T52:U9"><span class="var type1" id="S21T52U126">B</span> = <span class="mxinfo " id="T52:U11">zeros(<span class="mxinfo " id="T6:U12">size(<span class="var type1" id="S22T3U131">A</span>,1)</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S29T6U136">ii</span> = <span class="mxinfo " id="T6:U15">1</span>:size(<span class="var type1" id="S22T3U141">A</span>,2)</span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S30T6U145">jj</span> = <span class="mxinfo " id="T6:U18">1</span>:size(<span class="var type1" id="S22T3U150">A</span>,2)</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line">        <span class="mxinfo " id="T52:U20"><span class="var type1" id="S21T52U154">B</span> = <span class="mxinfo " id="T52:U22"><span class="var type1" id="S21T52U156">B</span> + <span class="mxinfo " id="T52:U24">fminsearch(<span class="var type1" id="S23T53U159">f</span>,<span class="mxinfo " id="T52:U26"><span class="var type1" id="S22T3U161">A</span>(<span class="mxinfo " id="T72:U28">:</span>,<span class="var type1" id="S29T6U163">ii</span>)</span>,<span class="var type1" id="S25T51U164">options</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line">        <span class="mxinfo " id="T36:U31"><span class="autoExtrinsicFcn" id="F339N3:B167">disp</span>(<span class="mxinfo " id="T18:U32">[<span class="var type1" id="S29T6U170">ii</span>,<span class="var type1" id="S30T6U171">jj</span>]</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line"><span class="comment">% B = zeros(size(A));</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45">45</a></span><span class="line"><span class="comment">% for ii = 1:size(A,3)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46">46</a></span><span class="line"><span class="comment">%     B(:,:,ii) = A(:,:,ii)^2;</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47">47</a></span><span class="line"><span class="comment">% end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48">48</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49">49</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50">50</a></span><span class="line"></span></span>
</pre>
